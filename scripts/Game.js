function playerup(){sprung=!0,$("#player").animate({top:"350px"},700,"swing",function(){document.getElementById("player").src="../Images/sprung2.webp",setTimeout(function(){document.getElementById("player").src="../Images/sprung3.webp",$("#player").animate({top:"550px"},700,"swing",function(){document.getElementById("player").src="../Images/sprung2.webp",sprung=!1,$("#hilf").css({display:"block"}),$("#player").css({display:"none"}),eventon=!0,document.getElementById("horse").muted=!1,lauf()})},200)})}function hindst(){hindid.forEach(function(e,t){document.getElementById(e).style.right="-100px",intervals[0]=setInterval(startIntervall,200,t)}),document.getElementById(playgroundid[0]).style.left="0px",document.getElementById(playgroundid[1]).style.left="3409px",document.getElementById(bottomid[0]).style.left="0px",document.getElementById(bottomid[1]).style.left="2480px",intervals[1]=setInterval(background,75),intervals[2]=setInterval(lebenzahl,25),intervals[3]=setInterval(stoppuhr,25),lauf(),intervals[4]=setInterval(hind,15)}function hind(){var e=Math.round(8*Math.random())+1;e<=hindid.length&&dist>=70&&(e=hindid[e],dist=0,"-100px"==document.getElementById(e).style.right&&(document.getElementById(e).style.right="-90px"));var t=new Array,n=parseInt(window.document.body.clientWidth)+100;hindid.forEach(function(e,r){t[r]=document.getElementById(e).style.right,t[r]=t[r].substr(0,t[r].length-2),t[r]=parseInt(t[r]),t[r]>-100&&(document.getElementById(e).style.right=t[r]+5+"px"),t[r]>=n&&(document.getElementById(e).style.right="-100px")}),dist++,bottomid.forEach(function(e){var t=document.getElementById(e).style.left;t=t.substr(0,t.length-2),t=parseInt(t),t<=-2480?t=2475:t-=5,document.getElementById(e).style.left=t+"px"})}function collision(e,t){function n(e,t,n){return e<=n&&t>=n}n(e.Ecke1.x,e.Ecke2.x,t.Ecke3.x)&&n(e.Ecke1.y,e.Ecke4.y,t.Ecke3.y)?life++:n(e.Ecke1.x,e.Ecke2.x,t.Ecke4.x)&&n(e.Ecke1.y,e.Ecke4.y,t.Ecke4.y)?life++:n(e.Ecke1.x,e.Ecke2.x,t.Ecke1.x)&&n(e.Ecke1.y,e.Ecke4.y,t.Ecke1.y)?life++:n(e.Ecke1.x,e.Ecke2.x,t.Ecke2.x)&&n(e.Ecke1.y,e.Ecke4.y,t.Ecke2.y)&&life++,10==life&&dead()}function startIntervall(e){xh[e]=document.getElementById(hindid[e]).style.right,xh[e]=xh[e].substr(0,xh[e].length-2),xh[e]=parseInt(xh[e]),fensterweite[e]=document.body.clientWidth,fensterweite[e]=parseInt(fensterweite),posHx[e]=fensterweite[e]-xh[e]-100,E=sprung?{Ecke1:{x:50,y:450},Ecke2:{x:150,y:450},Ecke3:{x:150,y:550},Ecke4:{x:50,y:550}}:{Ecke1:{x:50,y:650},Ecke2:{x:150,y:650},Ecke3:{x:150,y:750},Ecke4:{x:50,y:750}},H={Ecke1:{x:posHx[e],y:650},Ecke2:{x:xh[e],y:650},Ecke3:{x:xh[e],y:750},Ecke4:{x:posHx[e],y:750}},posHx[e]<=0||xh[e]<=0||collision(H,E)}function dead(){life=0,intervals.forEach(function(e){clearInterval(e)}),document.getElementById("scoredisplay").value=document.besuch.dauer.value,document.getElementById("game").style.visibility="hidden",document.getElementById("gameoverscreen").style.visibility="visible"}function lauf(){intervals[5]=setInterval(function(){$(".lauf").toggle()},200)}function background(){playgroundid.forEach(function(e){var t=document.getElementById(e).style.left;t=t.substr(0,t.length-2),t=parseInt(t),t==-3409?t=3408:t-=1,document.getElementById(e).style.left=t+"px"})}function pause(){var e=new Date,t=e.getTime();document.getElementById("music").muted=!0,alert("PAUSE"),document.getElementById("music").muted=!1,e=new Date,startzeit+=e.getTime()-t}function stoppuhr(){var e=new Date,t=(e.getTime()-startzeit)/25;document.besuch.dauer.value=Math.round(t)}function lebenzahl(){document.life.lifeinput.value=10*(10-life)+"%"}window.onload=hindst;var intervals=new Array,life=0,eventon=!0,dist=80,hindid=["hind1","hind2","hind3","hind4","hind5"],bottomid=["bottom","bottom2"],playgroundid=["playground","playground2"],sprung=!1,cheatEnabled=0;$(document).ready(function(){$(window).on("keydown",function(e){var t=null;t=$("#player");t.position();switch(e.keyCode){case 32:if(eventon){eventon=!1,document.getElementById("horse").muted=!0,document.getElementById("player").src="../Images/sprung1.webp",clearInterval(intervals[5]),$(".lauf").css({display:"none"}),$("#player").css({display:"block"});document.body.clientWidth;document.getElementById("player").style.top="550px",playerup()}break;case 80:pause();break;case 83:dead();break;case 52:cheatEnabled=.5;break;case 50:.5==cheatEnabled&&(cheatEnabled+=.5);break;case 67:1==cheatEnabled&&(life=0)}})});var E=null,H=null,posHx=new Array,fensterweite=new Array,xh=new Array;start=new Date,startzeit=start.getTime();